<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script>
        (function() {
            var canvas = document.createElement('canvas');
            canvas.width = 1;
            canvas.height = 1;
            var ctx = canvas.getContext('2d');
            if (ctx && canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0) {
                document.documentElement.classList.add('webp');
            } else {
                document.documentElement.classList.add('no-webp');
            }
        })();
    </script>

    <link rel="icon" type="image/png" href="~/images/favicon/favicon.ico">
    <link rel="apple-touch-icon" href="~/images/favicon/apple-touch-icon.png">

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />

    @{
        var currentPage = ViewContext.RouteData.Values["page"]?.ToString() ?? "";
        bool isHomePage = currentPage.Equals("/Index", StringComparison.OrdinalIgnoreCase);
    }

    @* --- Preload the LCP image for all subpages (but NOT the homepage) --- *@
    @if (!isHomePage)
    {
        <link rel="preload" as="image" href="/images/shared/full-width-hero-bg-mobile.webp" media="(max-width: 600px)" fetchpriority="high">
        <link rel="preload" as="image" href="/images/shared/full-width-hero-bg.webp" media="(min-width: 601px)" fetchpriority="high">
    }

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />

    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"></noscript>

    <link rel="stylesheet" href="~/css/global.css" asp-append-version="true" />

    @await Html.PartialAsync("_SeoHead")

    @RenderSection("HeadContent", required: false)
</head>
<body>

    <div class="site-wrapper">
        <header class="site-header">
            <div class="header-top-bar">
                <div class="container">
                    <div class="top-bar-content">
                        <div class="header-motto">
                            Your <span class="motto-highlight">#1</span> source for thickness and coating gauge needs
                        </div>
                        <div class="top-bar-contact-group">
                            <div class="contact-item">
                                <i class="fa-solid fa-location-dot"></i>
                                <a href="https://www.google.com/maps/search/?api=1&query=4507+Metropolitan+Court+Unit+J,+Frederick,+MD+21704" target="_blank" rel="noopener noreferrer">
                                    4507 Metropolitan Ct., Unit J., Frederick, MD 21704 USA
                                </a>
                            </div>
                            <span class="separator">|</span>
                            <div class="contact-item">
                                <i class="fa-solid fa-phone"></i>
                                <a href="tel:+13018743494">(+1) 301-874-3494</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-main">
                <div class="container">
                    <div class="logo">
                        <a asp-page="/Index">
                            <picture>
                                <source srcset="~/images/cropped-logo.webp" type="image/webp">
                                <img src="~/images/cropped-logo.png" asp-append-version="true" alt="Radiometric Services & Instruments Logo" width="283" height="50" />
                            </picture>
                        </a>
                    </div>

                    <button class="mobile-nav-toggle" aria-controls="main-nav-list" aria-expanded="false">
                        <span class="sr-only">Menu</span>
                        <i class="fa-solid fa-bars" aria-hidden="true"></i>
                        <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                    </button>

                    <nav class="main-nav">
                        @{
                            var currentPage = ViewContext.RouteData.Values["page"]?.ToString() ?? "";
                        }
                        <ul id="main-nav-list" data-visible="false">
                            <li><a asp-page="/Index" class="@(currentPage.Equals("/Index", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">Home</a></li>
                            <li class="dropdown">
                                <a asp-page="/Products" class="@(currentPage.StartsWith("/Products", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">Products <i class="fa-solid fa-chevron-down"></i></a>
                                <ul class="dropdown-menu">
                                    <li><a asp-page="/Products">Products Overview</a></li>
                                    <li><a asp-page="/Products/CoatingGauges">Online Coating Weight Gauges</a></li>
                                    <li><a asp-page="/Products/ThicknessGauges">Online Thickness Gauges</a></li>
                                    <li><a asp-page="/Products/LabCoatingGauge">Lab Coating Gauge</a></li>
                                    <li><a asp-page="/Products/SourcesDetectors">X-Ray Sources & Detectors</a></li>
                                    <li><a asp-page="/Products/UpgradePackage">Upgrade Packages</a></li>
                                </ul>
                            </li>
                            <li><a asp-page="/Solutions" class="@(currentPage.Equals("/Solutions", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">Solutions</a></li>
                            <li><a asp-page="/SpareParts" class="@(currentPage.StartsWith("/SpareParts", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">Spare Parts & Repairs</a></li>
                            <li><a asp-page="/PerformanceMonitoring" class="@(currentPage.Equals("/PerformanceMonitoring", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">Performance Monitoring</a></li>
                            <li><a asp-page="/Faq" class="@(currentPage.Equals("/Faq", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">FAQs</a></li>
                            <li><a asp-page="/AboutUs" class="@(currentPage.Equals("/AboutUs", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">About Us</a></li>
                            <li><a asp-page="/ContactUs" class="@(currentPage.Equals("/ContactUs", StringComparison.OrdinalIgnoreCase) ? "is-active" : "")">Contact Us</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>

        <main>
            @RenderBody()
        </main>

        <footer class="site-footer">
            <div class="container">
                <div class="footer-main">
                    <div class="footer-details">
                        <div class="footer-logo">
                            <a asp-page="/Index" class="footer-logo-text">RSI</a>
                        </div>
                        <p>Radiometric Services & Instruments, LLC</p>
                        <div class="contact-item">
                            <i class="fa-solid fa-location-dot"></i>
                            <a href="https://www.google.com/maps/search/?api=1&query=4507+Metropolitan+Court+Unit+J,+Frederick,+MD+21704" target="_blank" rel="noopener noreferrer">
                                4507 Metropolitan Court Unit J, Frederick, MD 21704
                            </a>
                        </div>
                        <div class="contact-item">
                            <i class="fa-solid fa-phone"></i>
                            <a href="tel:+13018743494">(+1) 301-874-3494</a>
                        </div>
                    </div>
                    <div class="footer-links">
                        <h3>Quick Links</h3>
                        <ul>
                            <li><a asp-page="/Index">Home</a></li>
                            <li><a asp-page="/Products">Products</a></li>
                            <li><a asp-page="/Solutions">Solutions</a></li>
                            <li><a asp-page="/SpareParts">Spare Parts & Repairs</a></li>
                            <li><a asp-page="/PerformanceMonitoring">Performance Monitoring</a></li>
                            <li><a asp-page="/Faq">FAQ</a></li>
                            <li><a asp-page="/AboutUs">About Us</a></li>
                            <li><a asp-page="/ContactUs">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-copyright">
                    <p>© @DateTime.Now.Year Radiometric Services & Instruments, LLC All Rights Reserved.</p>
                </div>
            </div>
        </footer>

        <script src="~/js/main.js" defer></script>

        @RenderSection("Scripts", required: false)
    </div>
</body>
</html>