@* -----------------------------------------------------------------------------
   File: ContactUs.cshtml
   Author: RSI Website Rebuild (ASP.NET Core 8 Razor Pages)
   Description:
     Contact form page with SEO-optimized head metadata & JSON-LD.
   ----------------------------------------------------------------------------- *@

@page "/contact-us"
@model RSIWebsiteBackend.Pages.ContactUsModel
@inject Microsoft.Extensions.Options.IOptions<RSIWebsiteBackend.Config.RecaptchaSettings> Recaptcha

@{
    // ----- SEO Meta (consumed by _SeoHead.cshtml) -----
    ViewData["SiteName"]        = "Radiometric Services & Instruments, LLC";
    ViewData["Title"]           = "Contact RSI | Request a Free Onsite Evaluation";
    ViewData["MetaDescription"] = "Contact Radiometric Services & Instruments for sales, service, or support. Call us or fill out our form to request a free evaluation of your gauging systems.";
    ViewData["Canonical"]       = "https://www.rsi-xray.com/contact-us";

    // Open Graph / Twitter
    ViewData["OgTitle"]         = "Contact RSI | Request a Free Onsite Evaluation";
    ViewData["OgDescription"]   = "Contact Radiometric Services & Instruments for sales, service, or support. Call us or fill out our form to request a free evaluation of your gauging systems.";
    ViewData["OgImage"]         = "https://www.rsi-xray.com/images/social-cards/contact-us.jpg";
    ViewData["OgType"]          = "website";

        // Twitter
    ViewData["TwitterCard"] = "summary_large_image";
    ViewData["TwitterTitle"] = "Contact RSI | Request a Free Onsite Evaluation";
    ViewData["TwitterDescription"] = "Contact Radiometric Services & Instruments for sales, service, or support. Call us or fill out our form to request a free evaluation of your gauging systems.";
    ViewData["TwitterImage"] = "https://www.rsi-xray.com/images/social-media/contact-us.jpg";
}

@section HeadContent {
    <link rel="stylesheet" href="~/css/contact-us.css" asp-append-version="true" />

    <!-- JSON-LD: ContactPage (+ embedded Organization) -->
    <script type="application/ld+json">
    @Html.Raw(@"{
      ""@context"": ""https://schema.org"",
      ""@type"": ""ContactPage"",
      ""url"": ""https://www.rsi-xray.com/contact-us"",
      ""mainEntity"": {
        ""@type"": ""Organization"",
        ""name"": ""Radiometric Services & Instruments, LLC"",
        ""url"": ""https://www.rsi-xray.com/"",
        ""telephone"": ""+1-301-874-3494"",
        ""address"": {
          ""@type"": ""PostalAddress"",
          ""streetAddress"": ""4507 Metropolitan Ct, Unit J"",
          ""addressLocality"": ""Frederick"",
          ""addressRegion"": ""MD"",
          ""postalCode"": ""21704"",
          ""addressCountry"": ""US""
        }
      }
    }")
    </script>

    <!-- JSON-LD: BreadcrumbList -->
    <script type="application/ld+json">
    @Html.Raw(@"{
      ""@context"": ""https://schema.org"",
      ""@type"": ""BreadcrumbList"",
      ""itemListElement"": [
        { ""@type"": ""ListItem"", ""position"": 1, ""name"": ""Home"", ""item"": ""https://www.rsi-xray.com/"" },
        { ""@type"": ""ListItem"", ""position"": 2, ""name"": ""Contact Us"", ""item"": ""https://www.rsi-xray.com/contact-us"" }
      ]
    }")
    </script>
}

<section class="page-hero-section">
    <div class="container">
        <h1>Contact RSI</h1>
    </div>
</section>

<section class="section">
    <div class="container contact-grid">

        <div class="contact-form-container">
            <h2>Send Us a Message</h2>
            <p>Have a question or need a quote? Fill out the form below and we'll get back to you shortly.</p>

            @* ✅ Success or error feedback (note: with PRG, success shows on /contact-thanks) *@
            @if (Model.FormSubmitted)
            {
                <div class="alert alert-success">
                    Thank you for contacting RSI. A team member will be reaching out to you shortly.
                </div>
            }
            else if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="alert alert-danger">@Model.ErrorMessage</div>
            }

            <form method="post" novalidate>
                @Html.AntiForgeryToken()

                @* Show model validation errors *@
                <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>

                @* Honeypot anti-spam field — matches PageModel check: Request.Form["website"] *@
                <input type="text"
                       name="website"
                       autocomplete="off"
                       tabindex="-1"
                       aria-hidden="true"
                       style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;" />

                <div class="form-group">
                    <label asp-for="FormData.Name"></label>
                    <input asp-for="FormData.Name" class="form-control" required />
                    <span asp-validation-for="FormData.Name" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="FormData.Email"></label>
                    <input asp-for="FormData.Email" type="email" class="form-control" required />
                    <span asp-validation-for="FormData.Email" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="FormData.Phone">Phone Number</label>
                    <input asp-for="FormData.Phone" type="tel" class="form-control" />
                    <span asp-validation-for="FormData.Phone" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="FormData.Subject"></label>
                    <select asp-for="FormData.Subject" class="form-control" required>
                        <option value="General Inquiry">General Inquiry</option>
                        <option value="Sales Question">Sales Question</option>
                        <option value="Free Consultation Request">Free Consultation Request</option>
                        <option value="Uptime Report Request">Uptime Report Request</option>
        
                        <option value="Product Inquiry">Product Inquiry (General)</option>
                        <option value="Coating Gauge Inquiry">Coating Gauge Inquiry</option>
                        <option value="Thickness Gauge Inquiry">Thickness Gauge Inquiry</option>
                        <option value="Lab Gauge Inquiry">Lab Gauge Inquiry</option>
                        <option value="Sources and Detectors Inquiry">Sources and Detectors Inquiry</option>
                        <option value="Upgrade Inquiry">Upgrade Package Inquiry</option>
                        <option value="Custom Gauging Solution">Custom Gauging Solution</option>
        
                        <option value="Service Request">Service Request</option>
                        <option value="Repair Request">Repair Request</option>
                        <option value="Spare Parts Request">Spare Parts Request</option>
                        <option value="Service Contract Inquiry">Service Contract Inquiry</option>
                        <option value="Equipment Evaluation">Equipment Evaluation</option>
                        <option value="Software Demo Request">Software Demo Request</option>
                    </select>
                    <span asp-validation-for="FormData.Subject" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="FormData.Message"></label>
                    <textarea asp-for="FormData.Message" rows="6" class="form-control" required></textarea>
                    <span asp-validation-for="FormData.Message" class="text-danger"></span>
                </div>

                @* Google reCAPTCHA v2 *@
                <div class="g-recaptcha" data-sitekey="@Recaptcha.Value.SiteKey" aria-label="Human verification"></div>
                <noscript>
                    <p>JavaScript is required to verify you are human. Please enable JavaScript to submit this form.</p>
                </noscript>

                <button type="submit" class="btn btn-primary">Submit Message</button>
            </form>
        </div>

        <div class="contact-info-container">
            <div class="contact-info-card">
                <h3>Contact Information</h3>
                <div class="contact-item">
                    <i class="fa-solid fa-location-dot"></i>
                    <a href="https://www.google.com/maps/search/?api=1&query=4507+Metropolitan+Court+Unit+J,+Frederick,+MD+21704" target="_blank" rel="noopener">
                        4507 Metropolitan Court<br />Unit J<br />Frederick, Maryland 21704 USA
                    </a>
                </div>
                <div class="contact-item">
                    <i class="fa-solid fa-phone"></i>
                    <a href="tel:+13018743494">(+1) 301-874-3494</a>
                </div>
                <div class="contact-item">
                    <i class="fa-solid fa-fax"></i>
                    <span>Fax: (+1) 301-874-3499</span>
                </div>
                <div class="contact-item">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                    <a href="tel:+17174769012">24/7 Emergency Hotline: (+1) 717-476-9012</a>
                </div>
            </div>

            <div class="google-map-embed">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3084.9809051672046!2d-77.41855622457136!3d39.35666901947569!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c9d9a25e8a7257%3A0xedad56faf22ea346!2s4507%20Metropolitan%20Ct%20%23%20J%2C%20Frederick%2C%20MD%2021704!5e0!3m2!1sen!2sus!4v1710000000000"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>

    </div>
</section>

<section class="section section-alt-bg">
    <div class="container">
        <h2 style="text-align: center; margin-bottom: 3rem;">Department Contacts</h2>
        <div class="department-grid">
            <div class="card">
                <picture>
                    <source srcset="~/images/contact-us/rsi-sales-department-card-400.webp" media="(max-width: 767px)" type="image/webp">
                    <source srcset="~/images/contact-us/rsi-sales-department-card-400.jpg" media="(max-width: 767px)">
                    <source srcset="~/images/contact-us/rsi-sales-department-card-600.webp" type="image/webp">
                    <img src="~/images/contact-us/rsi-sales-department-card-600.jpg" alt="Sales manager in a professional office setting" class="card-image-top" loading="lazy" width="600" height="450">
                </picture>
                <div class="card-content">
                    <h3>Sales</h3>
                    <p><strong>Clyde Hunt</strong>, Global Sales Manager</p>
                    <p class="card-email">chunt@rsi-xray.com</p>
                    <a href="mailto:chunt@rsi-xray.com" class="learn-more btn btn-primary">Email Clyde Hunt</a>
                </div>
            </div>
            <div class="card">
                <picture>
                    <source srcset="~/images/contact-us/rsi-service-department-card-400.webp" media="(max-width: 767px)" type="image/webp">
                    <source srcset="~/images/contact-us/rsi-service-department-card-400.jpg" media="(max-width: 767px)">
                    <source srcset="~/images/contact-us/rsi-service-department-card-600.webp" type="image/webp">
                    <img src="~/images/contact-us/rsi-service-department-card-600.jpg" alt="Service manager smiling in an office setting" class="card-image-top" loading="lazy" width="600" height="450">
                </picture>
                <div class="card-content">
                    <h3>Service</h3>
                    <p><strong>Chris Gockley</strong>, Test & Field Service Manager</p>
                    <p class="card-email">cgockley@rsi-xray.com</p>
                    <a href="mailto:cgockley@rsi-xray.com" class="learn-more btn btn-primary">Email Chris Gockley</a>
                </div>
            </div>
            <div class="card">
                <picture>
                    <source srcset="~/images/contact-us/rsi-spares-repairs-department-card-400.webp" media="(max-width: 767px)" type="image/webp">
                    <source srcset="~/images/contact-us/rsi-spares-repairs-department-card-400.jpg" media="(max-width: 767px)">
                    <source srcset="~/images/contact-us/rsi-spares-repairs-department-card-600.webp" type="image/webp">
                    <img src="~/images/contact-us/rsi-spares-repairs-department-card-600.jpg" alt="Manufacturing VP in a clean industrial workshop" class="card-image-top" loading="lazy" width="600" height="450">
                </picture>
                <div class="card-content">
                    <h3>Spares and Repairs</h3>
                    <p><strong>Mike Cook</strong>, VP of Manufacturing</p>
                    <p class="card-email">mcook@rsi-xray.com</p>
                    <a href="mailto:mcook@rsi-xray.com" class="learn-more btn btn-primary">Email Mike Cook</a>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
}
